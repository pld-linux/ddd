--- ddd-3.3.1/ddd/strclass.C.gcc	Fri Mar 30 14:31:46 2001
+++ ddd-3.3.1/ddd/strclass.C	Fri Feb 22 11:25:30 2002
@@ -1431,7 +1431,7 @@
     }
     x.rep->s[i] = 0;
     x.rep->len = i;
-#if HAVE_IOSTATE
+#if defined(__GNUC__) && __GNUC__ >= 3
     ios::iostate new_state = s.rdstate();
 #else
     int new_state = s.rdstate();
--- ddd-3.3.1/ddd/logplayer.C.gcc	Thu Apr 26 13:08:07 2001
+++ ddd-3.3.1/ddd/logplayer.C	Fri Feb 22 11:33:18 2002
@@ -33,6 +33,8 @@
 #pragma implementation
 #endif
 
+#include <fstream.h>
+	
 #include "logplayer.h"
 
 #include "assert.h"
@@ -43,7 +45,6 @@
 #include "streampos.h"
 
 #include <iostream.h>
-#include <fstream.h>
 #include <stdlib.h>
 #include <stdio.h>
 #include <unistd.h>
